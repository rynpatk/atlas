(this.webpackJsonpatlas=this.webpackJsonpatlas||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(26),o=n.n(i),a=n(13),l=n(17),s=n(9),u=n(2),b=n.n(u),d=n(50),f=n(5),j=n(40),h=n(49),p="https://zvwrqklvkomshwpkxepe.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2d3Jxa2x2a29tc2h3cGt4ZXBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDcwOTg3MjgsImV4cCI6MTk2MjY3NDcyOH0.ZZMKNhlYSsvC0VB6fU1b1Xyp1Fn9WFS9Gpd8pVCaZCE",O=Object(h.a)(p,x),v=n(22),m=n(42),g=n(41),k=n(45),w=n(47),y=function(e,t){return{activeTool:"open",setActiveTool:function(t){e((function(e){return{activeTool:e.activeTool===t?null:t}}))}}},S=n.n(w)()((function(e,t){return Object(k.a)({},y(e,t))})),C=n(4),I=function(e){var t=e.str,n=e.substr,r=void 0===n?"":n;if(!r||!r.trim())return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.c,{mx:1,my:.5,fontSize:["sm","sm","md"],children:t}),Object(C.jsx)(j.c,{mx:1,my:.5,fontSize:["sm","sm","md"],children:"\u2022"})]});var c=t.toLowerCase().indexOf(r.toLowerCase());if(c>-1){var i=c+r.length,o=t.slice(0,c),a=t.slice(c,i),l=t.slice(i,t.length);return Object(C.jsxs)(j.c,{fontSize:["sm","sm","md"],mx:1,my:.5,children:[o,Object(C.jsx)(j.c,{as:"span",fontWeight:600,color:"blue.500",children:a}),l]})}return null},T=function(e){var t=e.link,n=e.inputTerm,r=e.onClick,c=e.activeTool;return Object(C.jsx)(j.b,{onClick:function(){r(t)},_hover:c?{cursor:"pointer",fontWeight:600,color:"delete"===c?"orange.500":"blue.500"}:{},children:Object(C.jsx)(I,{str:t.url,substr:n})})},z=function(e){var t=e.deleteLink,n=e.links,r=e.inputTerm,c=S((function(e){return e.activeTool}));if(!n)return null;var i=function(){var e=Object(l.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"open"===c?0===n.url.indexOf("http://")||0===n.url.indexOf("https://")?window.open(n.url,"_blank"):window.open("http://".concat(n.url),"_blank"):"delete"===c&&t(n.id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(j.b,{direction:"row",flexWrap:"wrap",justify:["flex-start","flex-start","center"],align:"center",overflowX:"hidden",px:2,pb:20,children:n.map((function(e){return Object(C.jsx)(T,{link:e,inputTerm:r,onClick:i,activeTool:c},e.id)}))})},B=n(32),J=function(){var e=S((function(e){return e.activeTool})),t=S((function(e){return e.setActiveTool}));return Object(C.jsxs)(j.b,{direction:"row",children:[Object(C.jsx)(g.b,{mr:3,variant:"open"===e?"solid":"outline",onClick:function(){return t("open")},colorScheme:"blue","aria-label":"open links",fontSize:"25px",p:2,borderRadius:2,icon:Object(C.jsx)(B.a,{})}),Object(C.jsx)(g.b,{disabled:!0,mr:3,variant:"select"===e?"solid":"outline",onClick:function(){return t("select")},colorScheme:"green","aria-label":"select links",fontSize:"25px",p:2,borderRadius:2,icon:Object(C.jsx)(B.b,{})}),Object(C.jsx)(g.b,{variant:"delete"===e?"solid":"outline",onClick:function(){return t("delete")},colorScheme:"orange","aria-label":"delete links",fontSize:"25px",p:2,borderRadius:2,icon:Object(C.jsx)(B.c,{})})]})},E=function(e){var t=e.user,n=Object(r.useRef)(),c=Object(r.useState)(null),i=Object(s.a)(c,2),o=i[0],a=i[1],u=Object(r.useState)(!1),d=Object(s.a)(u,2),f=d[0],h=d[1],p=Object(r.useState)(null),x=Object(s.a)(p,2),k=x[0],w=x[1],y=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.from("links").select("*").order("id",{ascending:!0});case 2:t=e.sent,n=t.data,(r=t.error)?console.log("error",r):w(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.from("links").delete().eq("id",t);case 3:w(k.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(b.a.mark((function e(){var n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.next=5,O.from("links").insert({url:o,user_id:t.id}).single();case 5:n=e.sent,r=n.data,(c=n.error)?(console.log(c),h(!1)):(w([].concat(Object(v.a)(k),[r])),a(null),h(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k||y()}),[k]),Object(C.jsxs)(j.b,{direction:"column",bg:"paper",height:"100vh",overflowY:"hidden",children:[Object(C.jsx)(j.b,{direction:"column",width:"100%",justify:"flex-start",children:Object(C.jsxs)(j.b,{direction:"row",px:5,justify:"space-between",align:"center",children:[Object(C.jsxs)(j.b,{direction:"column",children:[Object(C.jsx)(j.c,{color:"softBlack",fontWeight:"black",fontSize:["3xl","3xl","4xl"],pt:2,children:"Atlas"}),Object(C.jsx)(j.c,{color:"gray.400",fontWeight:"black",fontSize:["xl","xl","2xl"],mt:-2,children:"\u30a2\u30c8\u30e9\u30b9"})]}),Object(C.jsx)(J,{})]})}),Object(C.jsx)(j.b,{direction:"column",alignItems:"center",width:"100%",height:"100%",children:Object(C.jsxs)(j.b,{direction:"column",justify:"center",align:"center",width:"100vw",children:[Object(C.jsxs)(j.b,{direction:"column",pb:[4,4,8],pt:4,width:["95vw","95vw","65vw"],px:3,children:[Object(C.jsx)(m.b,{justifySelf:"center",children:Object(C.jsx)(m.a,{type:"text",placeholder:"Enter link...",value:o||"",onChange:function(e){return a(e.target.value)},disabled:f})}),Object(C.jsx)(g.a,{pt:3,alignSelf:"flex-end",variant:"link",color:"OrientalPink",onClick:I,disabled:!o||f,borderRadius:2,_hover:{textDecoration:"none"},children:"Add"})]}),Object(C.jsx)(j.b,{direction:"column",width:"100%",height:"calc(100vh - 105px - 75px)",overflowY:"scroll",pt:[1,1,5],children:Object(C.jsx)(z,{category:null,links:k,inputTerm:o,deleteLink:S})})]})}),Object(C.jsx)(g.a,{zIndex:100,position:"absolute",bottom:[5,5,10],left:[5,5,10],bg:"Terracotta",onClick:function(){O.auth.signOut()},borderRadius:2,children:"Logout"}),Object(C.jsxs)(j.a,{zIndex:100,position:"absolute",bottom:[5,5,10],right:[5,5,10],children:[Object(C.jsx)("input",{type:"file",ref:n,style:{display:"none"}}),Object(C.jsx)(g.a,{onClick:function(){return n.current.click()},bg:"HalfBaked",disabled:!0,borderRadius:2,children:"Import"})]})]})},R=function(){return Object(C.jsx)(j.b,{direction:"column",bg:"paper",height:"100vh",children:Object(C.jsx)(j.b,{align:"center",justify:"center",direction:"row",width:"100%",height:"100%",children:Object(C.jsxs)(j.b,{direction:"column",align:"center",children:[Object(C.jsx)(j.c,{color:"softBlack",fontWeight:700,fontSize:"6xl",pb:5,children:"Atlas"}),Object(C.jsx)(g.a,{borderRadius:2,color:"softBlack",bg:"linear-gradient(90deg, rgba(133,205,203,1) 15%, rgba(232,168,124,1) 66%, rgba(226,125,96,1) 85%)",onClick:function(){O.auth.signIn({provider:"github"},{redirectTo:"https://rynpatk.github.io/atlas"})},children:"Login with Github"})]})})})},A=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Boolean(n);return Object(r.useEffect)((function(){var e,t=O.auth.session();c(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null);var n=O.auth.onAuthStateChange(function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===n||void 0===n?void 0:n.user,c(null!==r&&void 0!==r?r:null);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r=n.data;return function(){null===r||void 0===r||r.unsubscribe()}}),[n]),Object(C.jsx)(d.a,{basename:"/atlas",children:Object(C.jsxs)(f.c,{children:[Object(C.jsx)(f.a,{exact:!0,path:"/",element:i?Object(C.jsx)(E,{user:n}):Object(C.jsx)(R,{})}),Object(C.jsx)(f.a,{element:Object(C.jsx)(j.c,{children:"Oops!"}),status:404})]})})},L={Terracotta:"#E27D60",HalfBaked:"#85CDCB",Tacao:"#E8A87C",OrientalPink:"#C38D9E",Keppel:"#41B3A3",softBlack:"#282425",softPink:"#f15152ff","primary-focus":"#e86f68","primary-content":"#282425",softBlue:"#a4cbb4","secondary-focus":"#84b89a","secondary-content":"#282425",softYellow:"#ebdc99","accent-focus":"#e2cd6e",neutral:"#7d7259","neutral-focus":"#454035",paper:"#fbfbf8","base-100":"#e4d8b4","base-200":"#d2c59d","base-300":"#c6b386","base-content":"#282425",info:"#2094f3",success:"#009485",warning:"#ff9900",error:"#ff5724"},W=Object(a.b)({colors:L,fonts:{heading:"Sora",body:"Sora"}});n(101);o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(a.a,{theme:W,children:Object(C.jsx)(A,{})})}),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.d412df2a.chunk.js.map